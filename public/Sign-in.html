<!DOCTYPE html>

<html class="light" lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>RescueID - Secure Login</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<script id="tailwind-config">
        tailwind.config = {
          darkMode: "class",
          theme: {
            extend: {
              colors: {
                "primary": "#137fec",
                "background-light": "#f6f7f8",
                "background-dark": "#101922",
              },
              fontFamily: {
                "display": ["Inter", "sans-serif"]
              },
              borderRadius: {"DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px"},
            },
          },
        }
      </script>
</head>
<body class="font-display bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 min-h-screen flex items-center justify-center p-0">
<main class="w-full min-h-screen flex flex-col md:flex-row overflow-hidden">
<!-- Left Section: Brand & Narrative -->
<section class="hidden md:flex md:w-1/2 relative flex-col justify-between p-12 text-white">
<!-- Background Image with Overlay -->
<div class="absolute inset-0 z-0">
<img alt="Rescue Team Hero" class="w-full h-full object-cover" data-alt="Humanitarian rescue workers collaborating in emergency zone" src="https://lh3.googleusercontent.com/aida-public/AB6AXuDRE1xyajNKV1BgljW3M8gmjco9OMU3haf1E8TW0wgriCM9ftNcM8-PKw-sPy9sSvXkBlTE8KmlgsVdxojdU2-MIhaKNu3Q75KfAOAJrWwkm7SGH-gwSiHYCDzl2QOlbAJ7V_jAFVGe6VKFZPA9oT893OeB7oT1OUy8aKf7vQV9CXPhA4oRbW7OaY7xsafrx2g-MDWdwbn_dAeOcArFdxyoqHTAcSQn-71iiulpsCyv9QiddzzZEqaCybeDUHGAvndeHBGGrp0KD2E"/>
<div class="absolute inset-0 bg-slate-900/70 backdrop-blur-[2px]"></div>
</div>
<!-- Content -->
<div class="relative z-10">
<div class="flex items-center gap-2 mb-12">
<div class="bg-primary p-2 rounded-lg">
<span class="material-icons text-white text-3xl">qr_code_2</span>
</div>
<span class="text-2xl font-bold tracking-tight">RescueID</span>
</div>
<div class="max-w-md">
<h1 class="text-5xl font-extrabold leading-tight mb-6">
                        Securing Lives through Digital Identity.
                    </h1>
<p class="text-lg text-slate-200 leading-relaxed">
                        RescueID provides encrypted QR profiles to help humanitarian teams identify victims and manage emergency recovery with speed and security.
                    </p>
</div>
</div>
<div class="relative z-10">
<div class="flex gap-8 items-center border-t border-white/20 pt-8">
<div class="flex flex-col">
<span class="text-2xl font-bold">100%</span>
<span class="text-xs uppercase tracking-wider text-slate-300">Encrypted Data</span>
</div>
<div class="flex flex-col">
<span class="text-2xl font-bold">24/7</span>
<span class="text-xs uppercase tracking-wider text-slate-300">Rescue Support</span>
</div>
</div>
</div>
</section>
<!-- Right Section: Login Form -->
<section class="w-full md:w-1/2 bg-white dark:bg-background-dark flex flex-col justify-center items-center p-6 sm:p-12 lg:p-24 relative">
<!-- Language Selector (Top Right) -->
<div class="absolute top-8 right-8 flex items-center gap-2 text-sm text-slate-500 hover:text-primary cursor-pointer transition-colors">
<span class="material-icons text-lg">language</span>
<span>English (US)</span>
</div>
<div class="w-full max-w-md space-y-8">
<div class="text-center md:text-left">
<!-- Mobile Logo Only -->
<div class="md:hidden flex justify-center mb-6">
<div class="bg-primary p-2 rounded-lg">
<span class="material-icons text-white text-3xl">qr_code_2</span>
</div>
</div>
<h2 class="text-3xl font-bold text-slate-900 dark:text-white">Welcome Back</h2>
<p class="mt-2 text-slate-500 dark:text-slate-400">Please enter your credentials to access the rescue dashboard.</p>
</div>
<form id="signinForm" class="mt-8 space-y-6">
<div class="space-y-4">
<div>
<label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1" for="email">Email Address</label>
<div class="relative">
<span class="material-icons absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-xl">mail_outline</span>
<input autocomplete="email" class="block w-full pl-10 pr-4 py-3 border border-slate-200 dark:border-slate-800 rounded-lg bg-slate-50 dark:bg-slate-900 focus:ring-2 focus:ring-primary focus:border-primary transition-all text-slate-900 dark:text-white outline-none" id="email" name="email" placeholder="admin@rescueid.org" required="" type="email"/>
</div>
</div>
<div>
<div class="flex justify-between items-center mb-1">
<label class="block text-sm font-medium text-slate-700 dark:text-slate-300" for="password">Password</label>
<a class="text-sm font-medium text-primary hover:underline" href="#">Forgot Password?</a>
</div>
<div class="relative">
<span class="material-icons absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-xl">lock_open</span>
<input autocomplete="current-password" class="block w-full pl-10 pr-4 py-3 border border-slate-200 dark:border-slate-800 rounded-lg bg-slate-50 dark:bg-slate-900 focus:ring-2 focus:ring-primary focus:border-primary transition-all text-slate-900 dark:text-white outline-none" id="password" name="password" placeholder="••••••••" required="" type="password"/>
</div>
</div>
</div>
<div class="flex items-center">
<input class="h-4 w-4 text-primary focus:ring-primary border-slate-300 dark:border-slate-700 rounded" id="remember-me" name="remember-me" type="checkbox"/>
<label class="ml-2 block text-sm text-slate-700 dark:text-slate-300" for="remember-me">
                            Remember this device for 30 days
                        </label>
</div>
<div>
<button class="group relative w-full flex justify-center py-3.5 px-4 border border-transparent text-sm font-bold rounded-lg text-white bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-all shadow-lg shadow-primary/20" type="submit">
                            Sign In to Dashboard
                        </button>
</div>
</form>
<div class="relative py-4">
<div aria-hidden="true" class="absolute inset-0 flex items-center">
<div class="w-full border-t border-slate-200 dark:border-slate-800"></div>
</div>
<div class="relative flex justify-center text-sm">
<span class="px-2 bg-white dark:bg-background-dark text-slate-500">Secure Access Portal</span>
</div>
</div>
<div class="text-center">
<p class="text-sm text-slate-600 dark:text-slate-400">
                        Don't have an account? 
                        <a class="font-bold text-primary hover:underline" href="/Sign-up.html">Sign Up</a>
</p>
</div>
<div class="mt-12 flex items-center justify-center gap-4 opacity-50">
<div class="flex items-center gap-1">
<span class="material-icons text-sm">verified_user</span>
<span class="text-[10px] font-bold uppercase tracking-widest">SSL SECURED</span>
</div>
<div class="w-1 h-1 bg-slate-400 rounded-full"></div>
<div class="flex items-center gap-1">
<span class="material-icons text-sm">lock</span>
<span class="text-[10px] font-bold uppercase tracking-widest">AES-256</span>
</div>
</div>
</div>
<!-- Footer Small Print -->
<div class="mt-12 text-center">
<p class="text-[10px] text-slate-400 dark:text-slate-600 max-w-xs mx-auto">
                    By signing in, you agree to our Terms of Service and Privacy Policy regarding sensitive humanitarian data processing.
                </p>
</div>
</section>
</main>

<script>
// Wait for DOM to load
document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('signinForm');
    if (form) {
        form.addEventListener('submit', handleSignIn);
    }
});

// Sign In Handler
async function handleSignIn(e) {
    e.preventDefault();

    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;

    // Validation
    if (!email || !password) {
        alert('⚠️ Email and password are required');
        return;
    }

    try {
        const response = await fetch('/api/signin', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ email, password })
        });

        const data = await response.json();

        if (response.ok) {
            // Save user session in localStorage
            localStorage.setItem('userId', data.userId);
            localStorage.setItem('userName', data.fullName);
            localStorage.setItem('userEmail', data.email);
            
            alert('✅ Login successful!');
            
            // Redirect to emergency form
            setTimeout(() => {
                window.location.href = '/emergency-form.html';
            }, 1000);
        } else {
            alert('❌ ' + (data.error || 'Invalid credentials'));
        }
    } catch (error) {
        console.error('Error:', error);
        alert('❌ Error: ' + error.message);
    }
}
</script>
</body></html>